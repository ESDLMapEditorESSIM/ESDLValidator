{
    "name": "Test validation schema 2",
    "description": "Test validation schema 2 contains a real world scenario with multiple validations, containing 'and' 'or' definitions in the check",
    "validations": [
        {
            "name": "check_producer_power_cost_or_profile",
            "desciption": "An asset of type producer must have a power attribute (asset.power) with marginal cost specified (asset.costInformation.marginalCosts) OR have an energy profile connected to it's outPort (asset.port.profile)",
            "type": "error",
            "message": "Consumer missing power and marginal costs or no energy profile connected",
            "selects": [
                {
                    "function": "get",
                    "alias": "producers",
                    "args": {
                        "type": "Producer"
                    }
                }
            ],
            "check": {
                "function": "not_null",
                "dataset": "producers",
                "args": {
                    "property": "power",
                    "counts_as_null": [
                        0.0
                    ]
                },
                "and": [
                    {
                        "function": "not_null",
                        "args": {
                            "property": "costinformation.marginalcosts.value",
                            "counts_as_null": [
                                0.0
                            ]
                        }
                    }
                ],
                "or": [
                    {
                        "function": "not_null",
                        "args": {
                            "property": "port.profile"
                        }
                    }
                ]
            }
        },
        {
            "name": "storage_has_capacity_and_controlstrategy",
            "description": "A storage asset needs to have a filled in capacity attribute and a StorageStrategy with 2 marginal costs for charge/decharge",
            "type": "error",
            "message": "Storage missing capacity or StoreStrategy including 2 marginal costs",
            "selects": [
                {
                    "function": "get",
                    "alias": "storages",
                    "args": {
                        "type": "storage"
                    }
                }
            ],
            "check": {
                "function": "not_null",
                "dataset": "storages",
                "args": {
                    "property": "capacity",
                    "counts_as_null": [
                        0.0
                    ]
                },
                "and": [
                    {
                        "function": "not_null",
                        "args": {
                            "property": "controlstrategy.marginalChargeCosts"
                        }
                    },
                    {
                        "function": "not_null",
                        "args": {
                            "property": "controlstrategy.marginalDischargeCosts"
                        }
                    }
                ]
            }
        }
    ]
}